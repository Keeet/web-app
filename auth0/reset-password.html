<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Keeet - Reset password</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
  <link href="https://app.keeet.io/style/auth0-global.css" rel="stylesheet">

  <meta data-n-head="true" name="msapplication-TileColor" content="#ffffff">
  <meta data-n-head="true" name="msapplication-TileImage" content="https://app.keeet.io/icons/mstile-144x144.png">
  <meta data-n-head="true" name="msapplication-config" content="https://app.keeet.io/icons/browserconfig.xml">
  <meta data-n-head="true" name="theme-color" content="#ffffff">
  <link data-n-head="true" rel="icon" type="image/x-icon" href="https://app.keeet.io/favicon.ico">
  <link data-n-head="true" rel="apple-touch-icon" sizes="180x180" href="https://app.keeet.io/icons/apple-touch-icon.png">
  <link data-n-head="true" rel="icon" type="image/png" sizes="32x32" href="https://app.keeet.io/icons/favicon-32x32.png">
  <link data-n-head="true" rel="icon" type="image/png" sizes="16x16" href="https://app.keeet.io/icons/favicon-16x16.png">
  <link data-n-head="true" href="https://app.keeet.io/icons/safari-pinned-tab.svg" color="#5bbad5">
  <link data-n-head="true" rel="shortcut icon" href="https://app.keeet.io/icons/favicon.ico">
</head>

<body>
<div class="wrapper">
  <div id="loading" class="hidden">
    <img src="https://app.keeet.io/animated/loading.svg" />
  </div>
  <div id="message">
    <div class="message-inner">
      <div class="message-cross">
        <div class="message-cross-inner message">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M9 18c-.3 0-.5-.1-.7-.3l-5-5c-.4-.4-.4-1 0-1.4s1-.4 1.4 0L9 15.6 19.3 5.3c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-11 11c-.2.2-.4.3-.7.3z"/>
          </svg>
        </div>
        <div class="message-cross-inner error">
          <?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"     viewBox="0 0 212.982 212.982" style="enable-background:new 0 0 212.982 212.982;" xml:space="preserve"><g id="Close">	<path style="fill-rule:evenodd;clip-rule:evenodd;" d="M131.804,106.491l75.936-75.936c6.99-6.99,6.99-18.323,0-25.312		c-6.99-6.99-18.322-6.99-25.312,0l-75.937,75.937L30.554,5.242c-6.99-6.99-18.322-6.99-25.312,0c-6.989,6.99-6.989,18.323,0,25.312		l75.937,75.936L5.242,182.427c-6.989,6.99-6.989,18.323,0,25.312c6.99,6.99,18.322,6.99,25.312,0l75.937-75.937l75.937,75.937		c6.989,6.99,18.322,6.99,25.312,0c6.99-6.99,6.99-18.322,0-25.312L131.804,106.491z"/></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g></svg>
        </div>
      </div>
      <div id="message-close">
        <?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"     viewBox="0 0 212.982 212.982" style="enable-background:new 0 0 212.982 212.982;" xml:space="preserve"><g id="Close">	<path style="fill-rule:evenodd;clip-rule:evenodd;" d="M131.804,106.491l75.936-75.936c6.99-6.99,6.99-18.323,0-25.312		c-6.99-6.99-18.322-6.99-25.312,0l-75.937,75.937L30.554,5.242c-6.99-6.99-18.322-6.99-25.312,0c-6.989,6.99-6.989,18.323,0,25.312		l75.937,75.936L5.242,182.427c-6.989,6.99-6.989,18.323,0,25.312c6.99,6.99,18.322,6.99,25.312,0l75.937-75.937l75.937,75.937		c6.989,6.99,18.322,6.99,25.312,0c6.99-6.99,6.99-18.322,0-25.312L131.804,106.491z"/></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g>  <g></g></svg>
      </div>
      <p id="message-text"></p>
    </div>
  </div>
  <div class="content">
    <div class="logo">
      <h1 class="logo-text">Keeet</h1>
    </div>
    <div id="form" class="hidden">
      <div class="form-header">
        <h2 class="form-header-title">Reset password</h2>
      </div>
      <form id="form-body" action="/lo/reset" method="post">
        <!-- Do not remove this.  This protects against CSRF vulnerabilities -->
        <input type="hidden" name="_csrf" value="{{csrf_token}}" />
        <input type="hidden" name="ticket" value="{{ticket}}" />
        <input type="hidden" name="email" value="{{email}}" />

        <input
          type="password"
          name="confirmNewPassword"
          class="form-input"
          id="password"
          placeholder="Password">
        <input
          type="password"
          name="newPassword"
          class="form-input"
          id="password-confirm"
          placeholder="Confirm password">
        <button
          type="submit"
          id="btn-reset"
          class="form-button login colored">
          Reset password
        </button>
      </form>
    </div>
  </div>
  <div id="footer">
    <div class="footer-logo">
      <a href="https://keeet.io">Keeet</a>
    </div>
    <p class="footer-nav-item">
      <a href="https://keeet.io">Imprint</a>
    </p>
    <p class="footer-nav-item">
      <a href="https://keeet.io">Terms of Service</a>
    </p>
    <p class="footer-nav-item">
      <a href="https://keeet.io">Privacy Policy</a>
    </p>
  </div>
</div>
<script src="https://app.keeet.io/js/auth0-global.js"></script>
<script src="https://app.keeet.io/js/jquery-3.2.1.min.js"></script>
<script>
  window.addEventListener('load', function () {
    var form = $("#form-body");

    form.submit(function(e) {
      e.preventDefault()

      if ($('#password').val() !== $('#password-confirm').val()) {
        showError('Passwords are not identical.')
        return
      }

      $.ajax({
        type: form.attr('method'),
        url: form.attr('action'),
        data: form.serialize(),
        success: handleSuccess,
        error: handleResponseError
      });
    });

    var handleResponseError = function (res) {
      if (res.responseJSON && res.responseJSON.code === 'invalid_password') {
        showError('Password must have 8 characters including lower case (a-z), upper case (A-Z) and numbers (0-9)')
      } else {
        showError('Password reset failed. Please try again or contact us at info@keeet.io.')
      }
    };

    var handleSuccess = function () {
      showMessage('Password reset was successful.')
      window.setTimeout(function () {
        window.location = 'https://app.keeet.io'
      }, 3000)
    }

    document.getElementById('message-close').addEventListener('click', hideMessage);

    showForm()
  });
</script>
</body>
</html>
